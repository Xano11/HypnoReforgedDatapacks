{
    "name":"Land of the Storms",
    "description":"Using your [PRIMARY ABILITY KEY], you create a storm field around you. In this 16 block radius area, lightning randomly hits the ground. Additionally, entities that stay in the field slowly lose speed up to 25% and take damage over a duration. Finally, holding [SECONDARY ABILITY KEY] with Stormfield toggled on will cast lighting to recharge your bar.",
    "badges": [
        {
            "type": "origins:tooltip",
            "sprite": "origins:textures/gui/badge/info.png",
            "text": "Upon staying too long in the stormfield, entities will glow yellow, allowing you to teleport to them upon attacking whilst in mid-air."
        }
    ],
    "type": "origins:multiple",
    "toggle":{
        "type": "origins:toggle",
        "active_by_default": false,
        "retain_state": false,
        "key": {
            "key": "key.origins.primary_active"
        },
        "condition":{
        "type":"origins:and",
        "conditions":[{
            "type": "origins:resource",
            "resource": "hypno:playstyle/zeus/raiju/energetic_resource",
            "comparison": ">=",
            "compare_to": 100
        },
        {
            "type": "origins:power",
            "power": "hypno:playstyle/zeus/raiju/discharged",
            "inverted": true
        },
        {
            "type": "origins:power",
            "power": "hypno:playstyle/zeus/raiju/emp",
            "inverted": true
        }
    ]
    }
    },
    "strike":{
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:and",
            "actions": [
                {
                    "type": "origins:execute_command",
                    "command": "summon armor_stand ~ ~ ~ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,Marker:1b,Tags:[\"lightningbolt\"]}"
                },
                {
                    "type": "origins:execute_command",
                    "command": "summon armor_stand ~ ~ ~ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,Marker:1b,Tags:[\"lightningbolt\"]}"
                },
                {
                    "type": "origins:execute_command",
                    "command": "summon armor_stand ~ ~ ~ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,Marker:1b,Tags:[\"lightningbolt\"]}"
                },
                {
                    "type": "origins:execute_command",
                    "command": "summon armor_stand ~ ~ ~ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,Marker:1b,Tags:[\"lightningbolt\"]}"
                },
                {
                    "type": "origins:execute_command",
                    "command": "summon armor_stand ~ ~ ~ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,Marker:1b,Tags:[\"lightningbolt\"]}"
                },
                {
                    "type": "origins:execute_command",
                    "command": "summon armor_stand ~ ~ ~ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,Marker:1b,Tags:[\"lightningbolt\"]}"
                },
                {
                    "type": "origins:execute_command",
                    "command": "summon armor_stand ~ ~ ~ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,Marker:1b,Tags:[\"lightningbolt\"]}"
                },
                {
                    "type": "origins:execute_command",
                    "command": "summon armor_stand ~ ~ ~ {Invisible:1b,Invulnerable:1b,NoBasePlate:1b,NoGravity:1b,Marker:1b,Tags:[\"lightningbolt\"]}"
                },
                {
                    "type": "origins:execute_command",
                    "command": "power grant @e[distance=0.1..16] hypno:playstyle/zeus/raiju/storm"
                },
                {
                    "type": "origins:execute_command",
                    "command": "execute as @e[distance=0.1..16] run resource change @s hypno:playstyle/zeus/raiju/storm_stacks 1"
                },
                {
                    "type": "origins:execute_command",
                    "command": "function hypno:stormfield"
                },
                {
                    "type":"origins:delay",
                    "ticks":1,
                    "action":
                    {
                        "type": "origins:and",
                        "actions": [{
                        "type": "origins:execute_command",
                        "command": "spreadplayers ~ ~ 8 16 false @e[type=minecraft:armor_stand,tag=lightningbolt]"
                    }
                ]
                    }
            },
            {
                "type":"origins:delay",
                "ticks":19,
                "action":
                {
                    "type": "origins:and",
                    "actions": [{
                    "type": "origins:execute_command",
                    "command": "execute at @e[type=minecraft:armor_stand,tag=lightningbolt] run summon minecraft:lightning_bolt"
                }
            ]
                }
        },
        {
            "type":"origins:delay",
            "ticks":20,
            "action":
            {
                "type": "origins:and",
                "actions": [{
                "type": "origins:execute_command",
                "command": "kill @e[type=minecraft:armor_stand,tag=lightningbolt]"
            }
        ]
            }
        },
                {
                    "type": "origins:change_resource",
                    "resource": "hypno:playstyle/zeus/raiju/energetic_resource",
                    "change": -35
                }
            ]
        },
        "interval": 25,
        "condition": {
            "type": "origins:and",
            "conditions": [{
            "type": "origins:power_active",
            "power": "hypno:playstyle/zeus/raiju/stormfield_toggle"
        },
        {
            "type": "origins:resource",
            "resource": "hypno:playstyle/zeus/raiju/energetic_resource",
            "comparison": ">",
            "compare_to": 0
        },
        {
            "type": "apugli:key_pressed",
            "key": {
                "key": "key.origins.secondary_active",
                "continuous": true
            },
            "inverted":true
        }
        ]
    }
    },
    "particles":{
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:and",
            "actions": [
                {
                    "type": "origins:execute_command",
                    "command": "execute at @e[type=minecraft:armor_stand,tag=lightningbolt] run particle minecraft:cloud ~ ~ ~ 0.3 0 0.3 0.01 10"
                }
            ]
        },     
        "interval": 2,
        "condition": {
            "type": "origins:and",
            "conditions": [{
            "type": "origins:power_active",
            "power": "hypno:playstyle/zeus/raiju/stormfield_toggle"
        },
        {
            "type": "origins:resource",
            "resource": "hypno:playstyle/zeus/raiju/energetic_resource",
            "comparison": ">",
            "compare_to": 0
        },
        {
            "type": "apugli:key_pressed",
            "key": {
                "key": "key.origins.secondary_active",
                "continuous": true
            },
            "inverted":true
        }
        ]
    }
    },
    "supraconductor":{
        "type": "origins:active_self",
        "entity_action": {
            "type": "origins:and",
            "actions": [
                {
                    "type": "origins:raycast",
                    "distance": 16,
                    "block": false,
                    "entity": true,
                    "shape_type": "visual",
                    "fluid_handling": "any",
                    "hit_action": {
                        "type": "origins:and",
                        "actions": [
                            {
                                "type": "origins:change_resource",
                                "resource": "hypno:playstyle/zeus/raiju/energetic_resource",
                                "change": -100
                            },
                            {
                                "type": "origins:execute_command",
                                "command": "playsound soulsweapons:nightfall_bonk player @s ~ ~ ~ 1 2"
                            }
                        ]
                    },
                    "command_at_hit": "tp @s ~ ~ ~",
                    "command_along_ray": "particle minecraft:dust_color_transition 1 1 0 1.5 0 0.3 0.8 ~ ~ ~ 0.3 0.1 0.3 1 30",
                    "command_step": 0.5,
                    "command_along_ray_only_on_hit": true,
                    "bientity_condition": {
                        "type":"origins:and",
                        "conditions":[{
                            "type": "origins:target_condition",
                            "condition":{
                                "type": "origins:living"
                            }
                        },
                        {
                            "type": "origins:target_condition",
                            "condition": {
                                "type": "origins:in_tag",
                                "tag": "hypno:living"
                            }
                            },
                    {
                        "type": "origins:target_condition",
                        "condition": {
                            "type": "origins:resource",
                            "resource": "hypno:playstyle/zeus/raiju/storm_stacks",
                            "comparison": "==",
                            "compare_to": 5
                        }
                    },
                    {
                    "type": "origins:target_condition",
                    "condition": 
                    {
                        "type": "origins:entity_type",
                        "entity_type": "minecraft:lightning_bolt",
                        "inverted": true
                    }
                }
                ]
                }
                }
            ]
        },
        "cooldown": 3,
        "key": {
            "key": "key.attack",
            "continuous": false
        },
        "condition": {
            "type": "origins:and",
            "conditions": [
                {
                    "type": "origins:on_block",
                    "inverted": true
                },
                {
                    "type": "origins:resource",
                    "resource": "hypno:playstyle/zeus/raiju/energetic_resource",
                    "comparison": ">=",
                    "compare_to": 100
                }
            ]
        },
        "hud_render": {
            "should_render": false
        }
    },
    "unstable":
    {
        "type": "origins:resource",
        "min": 0,
        "max": 3,
        "start_value": 0,
        "max_action":{
            "type": "origins:and",
            "actions": [
                {
            "type": "origins:execute_command",
            "command": "power grant @s hypno:playstyle/zeus/raiju/discharged"
                },
                {
                "type": "origins:change_resource",
                "resource": "hypno:playstyle/zeus/raiju/stormfield_unstable",
                "change": -3
                }
            ]
        },
        "hud_render": {
            "should_render": false
        }
    },
    "recharge":{
        "type": "origins:active_self",
        "entity_action": {
                "type": "origins:and",
                "actions": [
                    {
                        "type": "origins:execute_command",
                        "command": "summon minecraft:lightning_bolt"
                    },
                    {
                        "type": "origins:chance",
                        "action": {
                            "type": "origins:change_resource",
                            "resource": "hypno:playstyle/zeus/raiju/stormfield_unstable",
                            "change": 1
                        },
                        "chance": 0.25
                    }
                ]
        },
        "cooldown": 10,
        "key": {
            "key": "key.origins.secondary_active",
            "continuous": true
        },
        "condition": {
            "type": "origins:and",
            "conditions": [{
            "type": "origins:power_active",
            "power": "hypno:playstyle/zeus/raiju/stormfield_toggle"
        }
        ]
        },
        "hud_render": {
            "should_render": false
        }
    },
    "hidden": false
}